<%- include ('../partials/header') %>
<script src="../../resources/js/tripdisplay.js"></script>
<script src="../../resources/js/homepage.js"></script>
<link rel="stylesheet" href="../../resources/css/homepage.css">
<header>
    <h1>Planned Trips</h1>
    <!-- <div id="search-box">
        <input type="text" id="trip-search" placeholder="Search for a trip...">
        <button onclick="searchTrip()">Search</button>
    </div> -->
</header>
<main>
    <section id="current-trips">
        <h2>Current Trips</h2>
        <% for(var i=0; i < Data.length; i++) { %>
            <div class="trip-card" id="card-<%=i%>">
                <h3>[Trip name]</h3>
                <p><strong>From:</strong> <%=Data[i].destination%></p>
                <p><strong>To:</strong> <%=Data[i].original_location%></p>
                <p><strong>Driver:</strong> <%=Data[i].driverid%></p>
                <!-- <p><strong>Riders:</strong> [Rider query needed]</p> -->
                <p><strong>Schedule:</strong> [Trip time needed]</p>
                <% if(Data[i].driverid == User){ %>
                    <button type="button" onclick="cancelTrip('<%-i%>','<%-Data[i].trip_id%>',false)">Cancel Trip</a>
                  <% } else{ %>  
                    <button type="button" onclick="cancelTrip('<%-i%>','<%-Data[i].trip_id%>',true)">Leave Trip</a>
                 <% } %>
                <button type="button" style="background-color: blue;" onclick="toggle_visibility('<%=i%>','<%-Data[i].trip_id%>','<%-Data[i].driverid%>','<%-Data[i].destination%>','<%-Data[i].original_location%>');">More details</button>
            </div>
        <% } %>
    </section>
    <section id="register-trip">
        <h2>Want to make a new trip?</h2>
        <a class="btn btn-secondary btn-lg" href="/createTrip" role="button">Create a Trip!</a>
    </section>
</main>
<%- include ('../partials/footer') %>
<%- include('../partials/modal'); %>