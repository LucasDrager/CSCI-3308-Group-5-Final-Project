<%- include ('../partials/header') %>
<script src="../../resources/js/tripdisplay.js"></script>
<script src="../../resources/js/homepage.js"></script>
<link rel="stylesheet" href="../../resources/css/homepage.css">
<header>
    <h1>Ski Trip Planner</h1>
    <div id="search-box">
        <input type="text" id="trip-search" placeholder="Search for a trip...">
        <button onclick="searchTrip()">Search</button>
    </div>
</header>
<main>
    <section id="current-trips">
        <h2>Current Trips</h2>
        <% for(var i=0; i < Data.length; i++) { %>
            <div class="trip-card" id="card-<%=i%>">
                <h3>[Trip name]</h3>
                <p><strong>From:</strong> <%=Data[i].destination%></p>
                <p><strong>To:</strong> <%=Data[i].original_location%></p>
                <p><strong>Driver:</strong> <%=Data[i].driverid%></p>
                <!-- <p><strong>Riders:</strong> [Rider query needed]</p> -->
                <p><strong>Schedule:</strong> [Trip time needed]</p>
                <% if(Data[i].driverid == User){ %>
                    <button type="button" onclick="cancelTrip('<%-i%>','<%-Data[i].trip_id%>',false)">Cancel Trip</a>
                  <% } else{ %>  
                    <button type="button" onclick="cancelTrip('<%-i%>','<%-Data[i].trip_id%>',true)">Leave Trip</a>
                 <% } %>
                <button type="button" style="background-color: blue;" onclick="toggle_visibility('<%=i%>','<%-Data[i].trip_id%>','<%-Data[i].driverid%>','<%-Data[i].destination%>','<%-Data[i].original_location%>');">More details</button>
            </div>
        <% } %>
    </section>
    <!-- <section id="recommended-trips">
        <h2>Recommended Trips</h2> -->
        <!-- Example recommended trip cards -->
        <!-- <div class="trip-card">
            <h3>Mountain Retreat</h3>
            <p><strong>From:</strong> 2023-12-20</p>
            <p><strong>To:</strong> 2023-12-25</p>
            <p><strong>Driver:</strong> Sarah Williams</p>
            <p><strong>Riders:</strong> Michael Turner, Olivia White</p>
            <p><strong>Schedule:</strong> 11:00 AM - 5:00 PM</p>
            <button onclick="joinTrip()">Join Trip</button>
        </div>
        <div class="trip-card">
            <h3>Snowy Wonderland</h3>
            <p><strong>From:</strong> 2023-12-28</p>
            <p><strong>To:</strong> 2024-01-02</p>
            <p><strong>Driver:</strong> Alex Davis</p>
            <p><strong>Riders:</strong> Jessica Miller, Ryan Johnson</p>
            <p><strong>Schedule:</strong> 10:30 AM - 4:30 PM</p>
            <button onclick="joinTrip()">Join Trip</button>
        </div>
    </section> -->


    <section id="register-trip">
        <h2>Register a Trip</h2>
        <button type="button" class="btn btn-secondary btn-lg" href="/login">Large button</button>
    </section>
</main>
<%- include ('../partials/footer') %>
<%- include('../partials/modal'); %>